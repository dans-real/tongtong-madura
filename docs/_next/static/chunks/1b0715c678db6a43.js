(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},95873,e=>{"use strict";var t=e.i(932),r=e.i(71645);e.i(51718);var n=e.i(18357),l=e.i(59141);function o(){let e,o,s,a=(0,t.c)(5),[i,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(!0);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{let e=(0,n.onAuthStateChanged)(l.auth,e=>{d(e),m(!1)});return()=>e()},o=[],a[0]=e,a[1]=o):(e=a[0],o=a[1]),(0,r.useEffect)(e,o),a[2]!==c||a[3]!==i?(s={user:i,loading:c},a[2]=c,a[3]=i,a[4]=s):s=a[4],s}e.s(["useAuth",()=>o])},93721,e=>{"use strict";var t=e.i(43476),r=e.i(932),n=e.i(71645),l=e.i(18566),o=e.i(95873),s=e.i(59141);e.i(36180);var a=e.i(98925);function i(){let e,i,c,m,u,h,x,b,g,f,w,p,y,j,v,_,B,N,S,C,k,R,E,D,A,q,T,U,K,O,P,F,H,I,L,M=(0,r.c)(75),z=(0,l.useRouter)(),{user:G,loading:J}=(0,o.useAuth)();M[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],M[0]=e):e=M[0];let[Q,V]=(0,n.useState)(e),[W,X]=(0,n.useState)(null),[Y,Z]=(0,n.useState)(""),[$,ee]=(0,n.useState)(""),[et,er]=(0,n.useState)(""),[en,el]=(0,n.useState)(""),[eo,es]=(0,n.useState)("");M[1]!==J||M[2]!==z||M[3]!==G?(i=()=>{J||G||z.push("/admin")},c=[G,J,z],M[1]=J,M[2]=z,M[3]=G,M[4]=i,M[5]=c):(i=M[4],c=M[5]),(0,n.useEffect)(i,c),M[6]!==G?(m=()=>{if(!G)return;let e=(0,a.onSnapshot)((0,a.collection)(s.db,"regions"),e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),V(t)});return()=>e()},u=[G],M[6]=G,M[7]=m,M[8]=u):(m=M[7],u=M[8]),(0,n.useEffect)(m,u),M[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{Z(""),ee(""),er(""),el(""),es(""),X(null)},M[9]=h):h=M[9];let ea=h;M[10]!==W||M[11]!==en||M[12]!==$||M[13]!==et||M[14]!==Y||M[15]!==eo?(x=async e=>{e.preventDefault();try{let e={slug:Y,name:$,shortDescription:et,history:en,uniqueness:eo,updatedAt:a.Timestamp.now()};W?(await (0,a.updateDoc)((0,a.doc)(s.db,"regions",W),e),alert("Region updated!")):(await (0,a.setDoc)((0,a.doc)(s.db,"regions",Y),{...e,createdAt:a.Timestamp.now()}),alert("Region added!")),ea()}catch(e){console.error("Error saving region:",e),alert("Error saving region")}},M[10]=W,M[11]=en,M[12]=$,M[13]=et,M[14]=Y,M[15]=eo,M[16]=x):x=M[16];let ei=x;M[17]===Symbol.for("react.memo_cache_sentinel")?(b=e=>{Z(e.slug),ee(e.name),er(e.shortDescription),el(e.history),es(e.uniqueness),X(e.id)},M[17]=b):b=M[17];let ed=b;if(J||!G){let e;return M[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-redBrown-950 text-white",children:"Loading..."}),M[18]=e):e=M[18],e}M[19]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Regions Management"}),M[19]=g):g=M[19],M[20]!==z?(f=(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[g,(0,t.jsx)("button",{onClick:()=>z.push("/admin"),className:"px-4 py-2 bg-redBrown-800 text-white rounded-lg hover:bg-redBrown-700",children:"â† Back"})]}),M[20]=z,M[21]=f):f=M[21];let ec=W?"Edit Region":"Add Region";M[22]!==ec?(w=(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:ec}),M[22]=ec,M[23]=w):w=M[23],M[24]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"Slug (ID)"}),M[24]=p):p=M[24],M[25]===Symbol.for("react.memo_cache_sentinel")?(y=e=>Z(e.target.value),M[25]=y):y=M[25];let em=!!W;M[26]!==Y||M[27]!==em?(j=(0,t.jsxs)("div",{children:[p,(0,t.jsx)("input",{type:"text",value:Y,onChange:y,required:!0,disabled:em,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white disabled:opacity-50",placeholder:"bangkalan"})]}),M[26]=Y,M[27]=em,M[28]=j):j=M[28],M[29]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"Name"}),M[29]=v):v=M[29],M[30]===Symbol.for("react.memo_cache_sentinel")?(_=e=>ee(e.target.value),M[30]=_):_=M[30],M[31]!==$?(B=(0,t.jsxs)("div",{children:[v,(0,t.jsx)("input",{type:"text",value:$,onChange:_,required:!0,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white",placeholder:"Bangkalan"})]}),M[31]=$,M[32]=B):B=M[32],M[33]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"Short Description"}),M[33]=N):N=M[33],M[34]===Symbol.for("react.memo_cache_sentinel")?(S=e=>er(e.target.value),M[34]=S):S=M[34],M[35]!==et?(C=(0,t.jsxs)("div",{children:[N,(0,t.jsx)("textarea",{value:et,onChange:S,required:!0,rows:2,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white"})]}),M[35]=et,M[36]=C):C=M[36],M[37]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"History & Function"}),M[37]=k):k=M[37],M[38]===Symbol.for("react.memo_cache_sentinel")?(R=e=>el(e.target.value),M[38]=R):R=M[38],M[39]!==en?(E=(0,t.jsxs)("div",{children:[k,(0,t.jsx)("textarea",{value:en,onChange:R,required:!0,rows:4,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white"})]}),M[39]=en,M[40]=E):E=M[40],M[41]===Symbol.for("react.memo_cache_sentinel")?(D=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"Character & Uniqueness"}),M[41]=D):D=M[41],M[42]===Symbol.for("react.memo_cache_sentinel")?(A=e=>es(e.target.value),M[42]=A):A=M[42],M[43]!==eo?(q=(0,t.jsxs)("div",{children:[D,(0,t.jsx)("textarea",{value:eo,onChange:A,required:!0,rows:4,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white"})]}),M[43]=eo,M[44]=q):q=M[44];let eu=W?"Update Region":"Add Region";if(M[45]!==eu?(T=(0,t.jsx)("button",{type:"submit",className:"px-6 py-2 bg-white text-redBrown-900 font-bold rounded-lg hover:bg-gray-100",children:eu}),M[45]=eu,M[46]=T):T=M[46],M[47]!==W?(U=W&&(0,t.jsx)("button",{type:"button",onClick:ea,className:"px-6 py-2 bg-redBrown-700 text-white rounded-lg hover:bg-redBrown-600",children:"Cancel"}),M[47]=W,M[48]=U):U=M[48],M[49]!==T||M[50]!==U?(K=(0,t.jsxs)("div",{className:"flex gap-3",children:[T,U]}),M[49]=T,M[50]=U,M[51]=K):K=M[51],M[52]!==ei||M[53]!==j||M[54]!==B||M[55]!==C||M[56]!==E||M[57]!==q||M[58]!==K?(O=(0,t.jsxs)("form",{onSubmit:ei,className:"space-y-4",children:[j,B,C,E,q,K]}),M[52]=ei,M[53]=j,M[54]=B,M[55]=C,M[56]=E,M[57]=q,M[58]=K,M[59]=O):O=M[59],M[60]!==w||M[61]!==O?(P=(0,t.jsxs)("div",{className:"bg-redBrown-900/80 border-2 border-redBrown-700/50 rounded-2xl p-6 mb-8",children:[w,O]}),M[60]=w,M[61]=O,M[62]=P):P=M[62],M[63]!==Q.length?(F=(0,t.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Existing Regions (",Q.length,")"]}),M[63]=Q.length,M[64]=F):F=M[64],M[65]!==Q){let e;M[67]===Symbol.for("react.memo_cache_sentinel")?(e=e=>(0,t.jsxs)("div",{className:"bg-redBrown-900/80 border-2 border-redBrown-700/50 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.name}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>ed(e),className:"px-4 py-1 bg-white text-redBrown-900 font-medium rounded-lg hover:bg-gray-100 text-sm",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>d(e.id),className:"px-4 py-1 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 text-sm",children:"Delete"})]})]}),(0,t.jsx)("p",{className:"text-sm text-redBrown-300 mb-2",children:e.shortDescription}),(0,t.jsxs)("p",{className:"text-xs text-redBrown-400",children:["Slug: ",e.slug]})]},e.id),M[67]=e):e=M[67],H=Q.map(e),M[65]=Q,M[66]=H}else H=M[66];return M[68]!==F||M[69]!==H?(I=(0,t.jsxs)("div",{className:"space-y-4",children:[F,H]}),M[68]=F,M[69]=H,M[70]=I):I=M[70],M[71]!==P||M[72]!==I||M[73]!==f?(L=(0,t.jsx)("div",{className:"min-h-screen bg-redBrown-950 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[f,P,I]})}),M[71]=P,M[72]=I,M[73]=f,M[74]=L):L=M[74],L}async function d(e){if(confirm("Delete this region?"))try{await (0,a.deleteDoc)((0,a.doc)(s.db,"regions",e)),alert("Region deleted!")}catch(e){console.error("Error deleting region:",e),alert("Error deleting region")}}e.s(["default",()=>i])}]);