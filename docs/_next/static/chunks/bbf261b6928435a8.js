(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,t,r)=>{"use strict";var n=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;r.c=function(e){return n.H.useMemoCache(e)}},932,(e,t,r)=>{"use strict";t.exports=e.r(79474)},18566,(e,t,r)=>{t.exports=e.r(76562)},95873,e=>{"use strict";var t=e.i(932),r=e.i(71645);e.i(51718);var n=e.i(18357),o=e.i(59141);function s(){let e,s,l,a=(0,t.c)(5),[i,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(!0);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{let e=(0,n.onAuthStateChanged)(o.auth,e=>{c(e),m(!1)});return()=>e()},s=[],a[0]=e,a[1]=s):(e=a[0],s=a[1]),(0,r.useEffect)(e,s),a[2]!==d||a[3]!==i?(l={user:i,loading:d},a[2]=d,a[3]=i,a[4]=l):l=a[4],l}e.s(["useAuth",()=>s])},93721,e=>{"use strict";var t=e.i(43476),r=e.i(932),n=e.i(71645),o=e.i(18566),s=e.i(95873),l=e.i(59141);e.i(36180);var a=e.i(98925);function i(){let e,i,d,m,u,h,x,b,g,f,w,p,y,_,j,N,v,S,B,C,E,R,A,k,D,T,q,U,O,H,I,L,P,K,M,F=(0,r.c)(75),G=(0,o.useRouter)(),{user:W,loading:Y}=(0,s.useAuth)();F[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],F[0]=e):e=F[0];let[z,J]=(0,n.useState)(e),[Q,V]=(0,n.useState)(null),[X,Z]=(0,n.useState)(""),[$,ee]=(0,n.useState)(""),[et,er]=(0,n.useState)(""),[en,eo]=(0,n.useState)(""),[es,el]=(0,n.useState)("");F[1]!==Y||F[2]!==G||F[3]!==W?(i=()=>{Y||W||G.push("/admin")},d=[W,Y,G],F[1]=Y,F[2]=G,F[3]=W,F[4]=i,F[5]=d):(i=F[4],d=F[5]),(0,n.useEffect)(i,d),F[6]!==W?(m=()=>{if(!W)return;let e=(0,a.onSnapshot)((0,a.collection)(l.db,"regions"),e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),J(t)});return()=>e()},u=[W],F[6]=W,F[7]=m,F[8]=u):(m=F[7],u=F[8]),(0,n.useEffect)(m,u),F[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{Z(""),ee(""),er(""),eo(""),el(""),V(null)},F[9]=h):h=F[9];let ea=h;F[10]!==Q||F[11]!==en||F[12]!==$||F[13]!==et||F[14]!==X||F[15]!==es?(x=async e=>{e.preventDefault();try{let e={slug:X,name:$,shortDescription:et,history:en,uniqueness:es,updatedAt:a.Timestamp.now()};Q?(await (0,a.updateDoc)((0,a.doc)(l.db,"regions",Q),e),alert("Region updated!")):(await (0,a.setDoc)((0,a.doc)(l.db,"regions",X),{...e,createdAt:a.Timestamp.now()}),alert("Region added!")),ea()}catch(e){console.error("Error saving region:",e),alert("Error saving region")}},F[10]=Q,F[11]=en,F[12]=$,F[13]=et,F[14]=X,F[15]=es,F[16]=x):x=F[16];let ei=x;F[17]===Symbol.for("react.memo_cache_sentinel")?(b=e=>{Z(e.slug),ee(e.name),er(e.shortDescription),eo(e.history),el(e.uniqueness),V(e.id)},F[17]=b):b=F[17];let ec=b;if(Y||!W){let e;return F[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-redBrown-950 text-white",children:"Loading..."}),F[18]=e):e=F[18],e}F[19]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Regions Management"}),F[19]=g):g=F[19],F[20]!==G?(f=(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[g,(0,t.jsx)("button",{onClick:()=>G.push("/admin"),className:"px-4 py-2 bg-redBrown-800 text-white rounded-lg hover:bg-redBrown-700",children:"â† Back"})]}),F[20]=G,F[21]=f):f=F[21];let ed=Q?"Edit Region":"Add Region";F[22]!==ed?(w=(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:ed}),F[22]=ed,F[23]=w):w=F[23],F[24]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"Slug (ID)"}),F[24]=p):p=F[24],F[25]===Symbol.for("react.memo_cache_sentinel")?(y=e=>Z(e.target.value),F[25]=y):y=F[25];let em=!!Q;F[26]!==X||F[27]!==em?(_=(0,t.jsxs)("div",{children:[p,(0,t.jsx)("input",{type:"text",value:X,onChange:y,required:!0,disabled:em,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white disabled:opacity-50",placeholder:"bangkalan"})]}),F[26]=X,F[27]=em,F[28]=_):_=F[28],F[29]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"Name"}),F[29]=j):j=F[29],F[30]===Symbol.for("react.memo_cache_sentinel")?(N=e=>ee(e.target.value),F[30]=N):N=F[30],F[31]!==$?(v=(0,t.jsxs)("div",{children:[j,(0,t.jsx)("input",{type:"text",value:$,onChange:N,required:!0,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white",placeholder:"Bangkalan"})]}),F[31]=$,F[32]=v):v=F[32],F[33]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"Short Description"}),F[33]=S):S=F[33],F[34]===Symbol.for("react.memo_cache_sentinel")?(B=e=>er(e.target.value),F[34]=B):B=F[34],F[35]!==et?(C=(0,t.jsxs)("div",{children:[S,(0,t.jsx)("textarea",{value:et,onChange:B,required:!0,rows:2,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white"})]}),F[35]=et,F[36]=C):C=F[36],F[37]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"History & Function"}),F[37]=E):E=F[37],F[38]===Symbol.for("react.memo_cache_sentinel")?(R=e=>eo(e.target.value),F[38]=R):R=F[38],F[39]!==en?(A=(0,t.jsxs)("div",{children:[E,(0,t.jsx)("textarea",{value:en,onChange:R,required:!0,rows:4,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white"})]}),F[39]=en,F[40]=A):A=F[40],F[41]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)("label",{className:"block text-sm font-medium text-redBrown-200 mb-2",children:"Character & Uniqueness"}),F[41]=k):k=F[41],F[42]===Symbol.for("react.memo_cache_sentinel")?(D=e=>el(e.target.value),F[42]=D):D=F[42],F[43]!==es?(T=(0,t.jsxs)("div",{children:[k,(0,t.jsx)("textarea",{value:es,onChange:D,required:!0,rows:4,className:"w-full px-4 py-2 bg-redBrown-800 border border-redBrown-600 rounded-lg text-white"})]}),F[43]=es,F[44]=T):T=F[44];let eu=Q?"Update Region":"Add Region";if(F[45]!==eu?(q=(0,t.jsx)("button",{type:"submit",className:"px-6 py-2 bg-white text-redBrown-900 font-bold rounded-lg hover:bg-gray-100",children:eu}),F[45]=eu,F[46]=q):q=F[46],F[47]!==Q?(U=Q&&(0,t.jsx)("button",{type:"button",onClick:ea,className:"px-6 py-2 bg-redBrown-700 text-white rounded-lg hover:bg-redBrown-600",children:"Cancel"}),F[47]=Q,F[48]=U):U=F[48],F[49]!==q||F[50]!==U?(O=(0,t.jsxs)("div",{className:"flex gap-3",children:[q,U]}),F[49]=q,F[50]=U,F[51]=O):O=F[51],F[52]!==ei||F[53]!==_||F[54]!==v||F[55]!==C||F[56]!==A||F[57]!==T||F[58]!==O?(H=(0,t.jsxs)("form",{onSubmit:ei,className:"space-y-4",children:[_,v,C,A,T,O]}),F[52]=ei,F[53]=_,F[54]=v,F[55]=C,F[56]=A,F[57]=T,F[58]=O,F[59]=H):H=F[59],F[60]!==w||F[61]!==H?(I=(0,t.jsxs)("div",{className:"bg-redBrown-900/80 border-2 border-redBrown-700/50 rounded-2xl p-6 mb-8",children:[w,H]}),F[60]=w,F[61]=H,F[62]=I):I=F[62],F[63]!==z.length?(L=(0,t.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Existing Regions (",z.length,")"]}),F[63]=z.length,F[64]=L):L=F[64],F[65]!==z){let e;F[67]===Symbol.for("react.memo_cache_sentinel")?(e=e=>(0,t.jsxs)("div",{className:"bg-redBrown-900/80 border-2 border-redBrown-700/50 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.name}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>ec(e),className:"px-4 py-1 bg-white text-redBrown-900 font-medium rounded-lg hover:bg-gray-100 text-sm",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>c(e.id),className:"px-4 py-1 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 text-sm",children:"Delete"})]})]}),(0,t.jsx)("p",{className:"text-sm text-redBrown-300 mb-2",children:e.shortDescription}),(0,t.jsxs)("p",{className:"text-xs text-redBrown-400",children:["Slug: ",e.slug]})]},e.id),F[67]=e):e=F[67],P=z.map(e),F[65]=z,F[66]=P}else P=F[66];return F[68]!==L||F[69]!==P?(K=(0,t.jsxs)("div",{className:"space-y-4",children:[L,P]}),F[68]=L,F[69]=P,F[70]=K):K=F[70],F[71]!==I||F[72]!==K||F[73]!==f?(M=(0,t.jsx)("div",{className:"min-h-screen bg-redBrown-950 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[f,I,K]})}),F[71]=I,F[72]=K,F[73]=f,F[74]=M):M=F[74],M}async function c(e){if(confirm("Delete this region?"))try{await (0,a.deleteDoc)((0,a.doc)(l.db,"regions",e)),alert("Region deleted!")}catch(e){console.error("Error deleting region:",e),alert("Error deleting region")}}e.s(["default",()=>i])}]);