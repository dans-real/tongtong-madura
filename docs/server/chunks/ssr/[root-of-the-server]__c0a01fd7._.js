module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},12866,a=>{"use strict";var b=a.i(72131);a.i(30485);var c=a.i(31052),d=a.i(20237);function e(){let[a,e]=(0,b.useState)(null),[f,g]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{let a=(0,c.onAuthStateChanged)(d.auth,a=>{e(a),g(!1)});return()=>a()},[]),{user:a,loading:f}}a.s(["useAuth",()=>e])},92133,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(12866),f=a.i(20237);a.i(69387);var g=a.i(60574);function h(){let a=(0,d.useRouter)(),{user:h,loading:i}=(0,e.useAuth)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("basic"),[v,w]=(0,c.useState)([{id:"1",question:"",options:[{id:"1",text:"",isCorrect:!1},{id:"2",text:"",isCorrect:!1},{id:"3",text:"",isCorrect:!1},{id:"4",text:"",isCorrect:!1}]}]);(0,c.useEffect)(()=>{i||h||a.push("/admin")},[h,i,a]),(0,c.useEffect)(()=>{if(!h)return;let a=(0,g.query)((0,g.collection)(f.db,"quizzes"),(0,g.orderBy)("createdAt","desc")),b=(0,g.onSnapshot)(a,a=>{let b=[];a.forEach(a=>{b.push({id:a.id,...a.data()})}),k(b)});return()=>b()},[h]);let x=()=>{q(""),s(""),u("basic"),w([{id:"1",question:"",options:[{id:"1",text:"",isCorrect:!1},{id:"2",text:"",isCorrect:!1},{id:"3",text:"",isCorrect:!1},{id:"4",text:"",isCorrect:!1}]}]),m(!1),o(null)},y=async a=>{for(let b of(a.preventDefault(),v)){if(!b.question.trim())return void alert("Semua pertanyaan harus diisi");if(b.options.some(a=>!a.text.trim()))return void alert("Semua opsi jawaban harus diisi");if(!b.options.some(a=>a.isCorrect))return void alert(`Pertanyaan "${b.question}" belum memiliki jawaban yang benar`)}try{let a={slug:p,title:r,level:t,questions:v,updatedAt:g.Timestamp.now()};l&&n?(await (0,g.updateDoc)((0,g.doc)(f.db,"quizzes",n),a),alert("Quiz berhasil diupdate!")):(await (0,g.addDoc)((0,g.collection)(f.db,"quizzes"),{...a,createdAt:g.Timestamp.now()}),alert("Quiz berhasil ditambahkan!")),x()}catch(a){console.error("Error saving quiz:",a),alert("Gagal menyimpan quiz")}},z=async a=>{if(confirm("Hapus quiz ini?"))try{await (0,g.deleteDoc)((0,g.doc)(f.db,"quizzes",a)),alert("Quiz berhasil dihapus!")}catch(a){alert("Gagal menghapus quiz")}};return i||!h?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-redBrown-950 text-white",children:"Loading..."}):(0,b.jsx)("div",{className:"min-h-screen bg-redBrown-950 p-8",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Kelola Quiz"}),(0,b.jsx)("button",{onClick:()=>a.push("/admin"),className:"px-4 py-2 bg-redBrown-800 text-white rounded-lg hover:bg-redBrown-700 border-2 border-redBrown-600",children:"â† Kembali"})]}),(0,b.jsxs)("div",{className:"bg-redBrown-900/80 border-2 border-amber-500/50 rounded-2xl p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:l?"âœï¸ Edit Quiz":"âž• Tambah Quiz Baru"}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-amber-300 mb-2",children:"Judul Quiz *"}),(0,b.jsx)("input",{type:"text",value:r,onChange:a=>s(a.target.value),required:!0,className:"w-full px-4 py-2 bg-redBrown-800 border-2 border-redBrown-600 rounded-lg text-white focus:border-amber-400 focus:outline-none",placeholder:"Contoh: Quiz Sejarah Madura"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-amber-300 mb-2",children:"Slug (URL) *"}),(0,b.jsx)("input",{type:"text",value:p,onChange:a=>q(a.target.value.toLowerCase().replace(/\s+/g,"-")),required:!0,className:"w-full px-4 py-2 bg-redBrown-800 border-2 border-redBrown-600 rounded-lg text-white focus:border-amber-400 focus:outline-none",placeholder:"quiz-sejarah-madura"})]})]}),(0,b.jsx)("hr",{className:"border-amber-500/30"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-amber-300",children:["Pertanyaan (",v.length,")"]}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a=(v.length+1).toString();w([...v,{id:a,question:"",options:[{id:"1",text:"",isCorrect:!1},{id:"2",text:"",isCorrect:!1},{id:"3",text:"",isCorrect:!1},{id:"4",text:"",isCorrect:!1}]}])},className:"px-4 py-2 bg-amber-500 text-white font-semibold rounded-lg hover:bg-amber-600 border-2 border-amber-400",children:"+ Tambah Pertanyaan"})]}),v.map((a,c)=>(0,b.jsxs)("div",{className:"bg-redBrown-800/60 border-2 border-amber-600/30 rounded-xl p-5 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-amber-200 mb-2",children:["Pertanyaan ",c+1," *"]}),(0,b.jsx)("textarea",{value:a.question,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void w(v.map(a=>a.id===c?{...a,question:d}:a))},required:!0,rows:2,className:"w-full px-4 py-2 bg-redBrown-700 border-2 border-redBrown-500 rounded-lg text-white focus:border-amber-400 focus:outline-none",placeholder:"Tuliskan pertanyaan di sini..."})]}),v.length>1&&(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=a.id,void(v.length<=1?alert("Quiz harus memiliki minimal 1 pertanyaan"):w(v.filter(a=>a.id!==b)))},className:"px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 border-2 border-red-500",children:"ðŸ—‘ï¸ Hapus"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs text-amber-200 font-medium",children:"Pilihan Jawaban (pilih 1 jawaban benar):"}),a.options.map((c,d)=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"radio",name:`correct-${a.id}`,checked:c.isCorrect,onChange:()=>{var b,d;return b=a.id,d=c.id,void w(v.map(a=>a.id===b?{...a,options:a.options.map(a=>({...a,isCorrect:a.id===d}))}:a))},className:"w-5 h-5 accent-green-500 cursor-pointer",title:"Tandai sebagai jawaban benar"}),(0,b.jsx)("input",{type:"text",value:c.text,onChange:b=>{var d,e,f;return d=a.id,e=c.id,f=b.target.value,void w(v.map(a=>a.id===d?{...a,options:a.options.map(a=>a.id===e?{...a,text:f}:a)}:a))},required:!0,className:`flex-1 px-3 py-2 rounded-lg text-white focus:outline-none ${c.isCorrect?"bg-green-700/50 border-2 border-green-500":"bg-redBrown-700 border-2 border-redBrown-500 focus:border-amber-400"}`,placeholder:`Opsi ${String.fromCharCode(65+d)}`})]},c.id))]})]},a.id))]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"submit",className:"px-8 py-3 bg-amber-500 text-white font-bold rounded-lg hover:bg-amber-600 border-2 border-amber-400 shadow-lg shadow-amber-400/30",children:l?"ðŸ’¾ Update Quiz":"âž• Simpan Quiz"}),l&&(0,b.jsx)("button",{type:"button",onClick:x,className:"px-6 py-3 bg-redBrown-700 text-white font-semibold rounded-lg hover:bg-redBrown-600 border-2 border-redBrown-500",children:"âŒ Batal"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["ðŸ“‹ Daftar Quiz (",j.length,")"]}),0===j.length?(0,b.jsx)("div",{className:"text-center py-12 bg-redBrown-900/50 border-2 border-redBrown-700/50 rounded-xl",children:(0,b.jsx)("p",{className:"text-redBrown-300",children:"Belum ada quiz. Silakan tambahkan quiz baru di atas."})}):j.map(a=>(0,b.jsx)("div",{className:"bg-redBrown-900/80 border-2 border-amber-600/30 rounded-xl p-5 hover:border-amber-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:a.title}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,b.jsx)("span",{className:"text-xs bg-amber-500/20 border border-amber-500/50 px-3 py-1 rounded-full text-amber-300 font-semibold",children:"basic"===a.level?"ðŸŸ¢ Mudah":"medium"===a.level?"ðŸŸ¡ Sedang":"ðŸ”´ Susah"}),(0,b.jsxs)("span",{className:"text-xs bg-white/10 px-3 py-1 rounded-full text-redBrown-300",children:[a.questions?.length||0," pertanyaan"]}),(0,b.jsxs)("span",{className:"text-xs text-redBrown-400",children:["/",a.slug]})]}),a.questions&&a.questions.length>0&&(0,b.jsxs)("div",{className:"text-sm text-redBrown-300 space-y-1",children:[(0,b.jsx)("p",{className:"font-semibold text-amber-300",children:"Preview Pertanyaan:"}),(0,b.jsxs)("p",{className:"line-clamp-2",children:["1. ",a.questions[0].question]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{q(a.slug),s(a.title),u(a.level),w(a.questions||[]),m(!0),o(a.id),window.scrollTo({top:0,behavior:"smooth"})},className:"px-4 py-2 bg-amber-500 text-white text-sm font-semibold rounded hover:bg-amber-600 border-2 border-amber-400",children:"âœï¸ Edit"}),(0,b.jsx)("button",{onClick:()=>z(a.id),className:"px-4 py-2 bg-red-600 text-white text-sm font-semibold rounded hover:bg-red-700 border-2 border-red-500",children:"ðŸ—‘ï¸ Hapus"})]})]})},a.id))]})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c0a01fd7._.js.map